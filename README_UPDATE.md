# 업데이트 알림 기능 사용 가이드

## 작동 방식

1. **Service Worker 등록**: 앱이 로드될 때 Service Worker가 자동으로 등록됩니다.
2. **업데이트 감지**: 
   - 5분마다 자동으로 새 버전 확인
   - 페이지 포커스 시 업데이트 확인
   - Service Worker가 새 버전을 감지하면 자동으로 알림 표시
3. **업데이트 알림**: 화면 상단에 업데이트 알림 배너가 표시됩니다.
4. **업데이트 적용**: "업데이트" 버튼을 클릭하면 새 버전으로 자동 업데이트됩니다.

## 새 버전 배포 시

새 버전을 배포할 때는 다음 중 하나를 변경하면 됩니다:

1. **Service Worker 파일 수정** (`public/sw.js`):
   - `CACHE_VERSION` 변수 값을 변경 (예: `v1.0.0` → `v1.0.1`)
   - 또는 파일 내용을 약간 수정 (주석 추가 등)

2. **빌드 및 배포**:
   ```bash
   npm run build
   git add .
   git commit -m "새 버전 배포"
   git push
   ```

3. **사용자 경험**:
   - 사용자가 앱을 사용 중이면 5분 이내에 업데이트 알림이 표시됩니다
   - 사용자가 페이지를 새로고침하거나 다시 방문하면 즉시 업데이트 알림이 표시됩니다
   - "업데이트" 버튼을 클릭하면 새 버전으로 자동 전환됩니다

## 테스트 방법

1. 현재 버전을 배포
2. 브라우저에서 앱 사용
3. `public/sw.js` 파일의 `CACHE_VERSION`을 변경 (예: `v1.0.0` → `v1.0.1`)
4. 다시 빌드 및 배포
5. 브라우저에서 페이지를 새로고침하거나 5분 대기
6. 업데이트 알림이 표시되는지 확인

## 주의사항

- Service Worker는 HTTPS 환경에서만 작동합니다 (GitHub Pages는 HTTPS 사용)
- 개발 환경(`npm run dev`)에서는 Service Worker가 제대로 작동하지 않을 수 있습니다
- 프로덕션 빌드에서 테스트하세요

